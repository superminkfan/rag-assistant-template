# Версия 16.0.0

## Описание изменений

**Пояснения к описанию изменений**

Столбец «Учетный код» содержит код доработки функциональности продукта.

В столбцах «Влияют на разработку», «Влияют на администраторов» приведены ссылки на документы, где описаны изменения, которые влияют на работу указанной группы пользователей:

-   Разработка — прикладные команды разработки, которые используют программный продукт/компонент для разработки своих программных продуктов. 
-   Администратор — команды сопровождения продукта/компонента на стороне клиента. Настраивают и обслуживают продукт/компонент, в том числе с помощью графическиих интерфейсов администратора продукта/компонента.

:::{admonition} Примечание
:class: note

В случаях, когда в столбцах «Влияют на разработку», «Влияют на администраторов»  указаны `+`, изменения затрагивают исходный код, конфигурацию и иные файлы без изменения документации.
:::

### Новые функции

| Учетный код | Изменения | Влияют на разработку | Влияют на администраторов |
|---|---|---|---|
| CRPV-1071, CRPLTFRM-13789 | Корректное значение `event.success` при интеграции c Platform V Audit SE | - | + |
| CRPV-1072, CRPLTFRM-13564 | Возможность указания пути к снепшоту при восстановлении снепшота | - | [Раздел «Работа со снепшотами» документа «Руководство по системному администрированию»](../../administration-guide/md/control-sh.md) |
| CRPV-1073, CRPLTFRM-10835 | Возможность задать партицию `set patrition` в index-запросах | - | + |
| CRPV-11673, CRPLTFRM-17932 | Возможность настраивать на тонком клиенте тайм-аут на сетевое соединение с кластером DataGrid | + | + |
| CRPV-11677, CRPLTFRM-17165 | Возможность пропуска проверки целостности снепшота при восстановлении | - | [Раздел «Восстановление из резервной копии (снепшота)» документа «Руководство по системному администрированию»](../../administration-guide/md/administration-scenarios.md) |
| CRPV-11680, CRPLTFRM-18385 | Диагностические утилиты в Calcite | - | [Раздел «Статистика производительности (Performance statistics)» документа «Руководство по системному администрированию»](../../administration-guide/md/performance-statistics.md) |
| CRPV-11682, CRPLTFRM-18387 | Подсказки (hints) в Calcite  | - | Раздел «Оптимизация запросов с помощью подсказок (hints)» документа «Руководство по системному администрированию» |
| CRPV-11759, CRPLTFRM-18429 | Возможность создания и восстановления кеш-дампов | -  | [Раздел «Плагин для работы с кеш-дампами» документа «Руководство по системному администрированию»](../../administration-guide/md/ignite-dump-reader.md) |
| CRPV-18763, CRPLTFRM-20645 | Возможность шифрования кеш-дампов в процессе снятия | -  | [Раздел «Плагин для работы с кеш-дампами» документа «Руководство по системному администрированию»](../../administration-guide/md/ignite-dump-reader.md) |
| CRPV-11768, CRPLTFRM-18379 | В вывод утилиты `--cache validate_indexes` добавлено значение `consistendId` узла | - | [Раздел «Управление индексами» документа «Руководство по системному администрированию»](../../administration-guide/md/control-sh.md) |
| CRPV-11769, CRPLTFRM-18380 | Запуск перестройки индексов `indexes_force_rebuild` на нескольких или всех узлах | - | [Раздел «Утилита control» документа «Руководство по системному администированию»](../../administration-guide/md/administration-scenarios.md) | 
| CRPV-11770, CRPLTFRM-18381 | В вывод утилиты `--cache indexes_rebuild_status` добавлена информация о прогрессе перестроения индексов | - |  [Раздел «Утилита control» документа «Руководство по системному администированию»](../../administration-guide/md/administration-scenarios.md) | 
| CRPV-11771, CRPLTFRM-18382 | Вывод расширенных событий аудита в log-файл | - | + |
| CRPV-11772, CRPLTFRM-18383 | Обновлена документация по аудиту |  | [Раздел «Аудит» документа «Руководство по безопасности»](../../security-guide/md/audit.md) | 
| CRPV-11773, CRPLTFRM-18384 | Добавлена настройка параметров `module`, `nodeId`, `srcSys` в упрощенную конфигурацию плагина безопасности | - | [Раздел «Настройка отправки событий ИБ в Platform V Audit SE» документа «Дополнительные инструкции для пользователей ПАО «Сбербанк»](../../bank-instructions/md/audit-integration.md) |
| CRPV-12025, CRPLTFRM-18460 | Возможность выполнения локальных запросов в Calcite | + | - |
| CRPV-12026, CRPLTFRM-18461 | Tаймаут для запросов в Calcite | + | - |
| CRPV-12189, CRPLTFRM-18486 | Триггер по утилизации `metaspace` для мониторинга DataGrid | - | [Раздел «Использование Zabbix и Grafana для мониторинга» документа «Руководство по системному администированию»](../../administration-guide/md/zabbix-and-grafana.md) |
| CRPV-12916, CRPLTFRM-18754 | Удаление данных из реплицируемых таблиц/кешей без потери согласованности данных | [Раздел «Разрешение конфликтов репликации при помощи CacheVersionConflictResolver» документа «Руководство по системному администрированию»](../../administration-guide/md/administration-scenarios.md) | [Раздел «Разрешение конфликтов репликации при помощи CacheVersionConflictResolver» документа «Руководство по системному администрированию»](../../administration-guide/md/administration-scenarios.md) |
| CRPV-12962, CRPLTFRM-18828 | Поддержка партиций в `SqlFieldsQuery` | + | - |
| CRPV-13206,CRPLTFRM-18968 | Совместимость c OpenJDK 11.0.19 | - | [Раздел «Системные требования» документа «Руководство по установке»](../../installation-guide/md/system-requirements.md) |
| CRPV-13207, CRPLTFRM-18897 | Метрики JVM пауз | - | [Раздел «Использование Zabbix и Grafana для мониторинга» документа «Руководство по системному администированию»](../../administration-guide/md/zabbix-and-grafana.md) |
| CRPV-13222, CRPLTFRM-18973 | Улучшение журналирования восстановления из снепшота | - | + |
| CRPV-13510, CRPLTFRM-19007 | Вывод в log-файл информации, которая была перенесена в упрощенную настройку | - | + |
| CRPV-13822, CRPLTFRM-18856 | Обновлены userparameters в шаблонах мониторинга DataGrid для Zabbix |  | + |
| CRPV-14421, CRPLTFRM-19297 | ServiceAwareness для тонкого клиента | Раздел «Сервисы» документа «Руководство прикладного разработчика» | - |
| CRPV-14573, CRPLTFRM-19330 | AdminUI. Интерфейс пользователя на основе ролевой модели | - | Раздел «Управление ролями» документа «Руководство по системному администированию» |
| CRPV-15954, CRPLTFRM-19464 | Мониторинг сертификата CDC | - | [Раздел «Правило DataGrid Security» документа «Руководство по системному администированию»](../../administration-guide/md/zabbix-and-grafana.md) |
| CRPV-16660, CRPLTFRM-19941 | Триггер на метрику Cache Evictions | - | [Раздел «Использование Zabbix и Grafana для мониторинга» документа «Руководство по системному администированию»](../../administration-guide/md/zabbix-and-grafana.md) |
| CRPV-2748, CRPLTFRM-7233 | Реализован split brain resolver | + | + |
| CRPV-2867, CRPLTFRM-8118 | Доработка DataGrid для работы с Secret Management System | - | + |
| CRPV-3878, CRPLTFRM-12820 | AdminUI. Многопоточная работа | - | + |
| CRPV-3902, CRPLTFRM-12895 | AdminUI. Дополнительная проверка при деактивации кластера | - | Раздел «Сценарии использования графической утилиты управления (AdminUI)» документа «Руководство по системному администированию» |
| CRPV-431, CRPLTFRM-11161 | Возможность создания пайплайна или обертки в вызов сервиса | + | - |
| CRPV-433 | Получение версии, установленной на стенде DataGrid | - | + |
| CRPV-4835, CRPLTFRM-15204 | Метрики отправки запроса в индекс | - | [Раздел «Операции с отсортированными индексами» документа «Руководство по системному администрированию»](../../administration-guide/md/monitoring-events.md) |
| CRPV-5911, CRPLTFRM-15874 | Логирование подключения/отключения тонких клиентов |- | + |
| CRPV-6114, CRPLTFRM-16767 | Настройка `expiryPolicy` применяется к реплицированным записям | - | + |
| CRPV-6125, CRPLTFRM-16804 | Добавлен тип региона данных (in-memory/persistence) в мониторинг DataGrid | - | + |
| CRPV-6364, CRPLTFRM-17127 | Cовместимость DataGrid версий 12, 13, 14 с RHEL 8.4 и Platform V SberLinux OS Server | - | [Раздел «Системные требования» документа «Руководство по установке»](../../installation-guide/md/system-requirements.md) |
| CRPV-6460, CRPLTFRM-16684 | No Vendor Lock 2.0 (k8s) для Platform V DataGrid | - | - |
| CRPV-6461, CRPLTFRM-17177 | Совместимость DataGrid с Java Eclipse Temurin 17 | - | [Раздел «Системные требования» документа «Руководство по установке»](../../installation-guide/md/system-requirements.md) |
| CRPV-6471, CRPLTFRM-17059 | Создание кешей с помощью `control.sh` без использования SQL | - | [Раздел «Утилита control» документа «Руководство по системному администированию»](../../administration-guide/md/administration-scenarios.md) |
| CRPV-6473, CRPLTFRM-17055 | Admin UI. Просмотр содержимого кешей без использования SQL | - | Раздел «Сценарии использования графической утилиты управления (AdminUI)» документа «Руководство по системному администированию» |
| CRPV-7118, CRPLTFRM-17385 | Добавлены Backup filter и сортировки в мониторинг ячеек DataGrid | - | [Раздел «Использование Zabbix и Grafana для мониторинга» документа «Руководство по системному администированию»](../../administration-guide/md/zabbix-and-grafana.md) |
| CRPV-7432, CRPLTFRM-16138 | Фильтр экспортера метрик | - | [Раздел «События мониторинга» документа «Руководство по системному администированию»](../../administration-guide/md/monitoring-events.md) |
| CRPV-8053, CRPLTFRM-17314 | No Vendor Lock 2.0 Platform V DataGrid | - | - |
| CRPV-8147, CRPLTFRM-17572 | AdminUI. Распределение партиций по кешам | - | Раздел «Сценарии использования графической утилиты управления (AdminUI)» документа «Руководство по системному администированию» |
| CRPV-8148, CRPLTFRM-17573 | Возможность завершения транзакций (KILL) | - | Раздел «Сценарии использования графической утилиты управления (AdminUI)» документа «Руководство по системному администированию» |
| CRPV-8149, CRPLTFRM-17574 | Интеграция с АС Secret Management System | - | [Раздел «Интеграция с Secret Management System (SecMan)» документа «Дополнительные инструкции для пользователей ПАО «Сбербанк»](../../bank-instructions/md/secman-integration.md) |
| CRPV-8150, CRPLTFRM-17575 | AdminUI. Запуск `idle verify` | - | + | проверить доку
| CRPV-8155, CRPLTFRM-17582 | AdminUI. Запуск и отслеживание процесса ребалансировки | - | Раздел «Сценарии использования графической утилиты управления (AdminUI)» документа «Руководство по системному администированию» |
| CRPV-8157, CRPLTFRM-17584 | AdminUI. Отображение статуса кластера на главном экране; оповещение других администраторов, подключающихся к кластеру | - | Раздел «Сценарии использования графической утилиты управления (AdminUI)» документа «Руководство по системному администированию» |
| CRPV-8407, CRPLTFRM-17636 | AdminUI. Создание кешей без использования SQL | - | Раздел «Создание кеша» документа «Руководство по системному администированию» |
| CRPV-8433, CRPLTFRM-17637 | Репликация CDC в реальном времени | - | [ Раздел «Плагин для работы CDC в реальном времени» документа «Руководство по системному администированию»](../../administration-guide/md/cdc-manager-plugin.md) |
| CRPV-17289, CRPLTFRM-19982 | Возможность определения алгоритма default channel для тонкого клиента | + | - |

### Изменения функциональности

| Учетный код | Изменения | Влияют на разработку | Влияют на администраторов |
|---|---|---|---|
| CRPV-8076, CRPLTFRM-17387 | Записи с `expiryPolicy` не включаются в проверку `idle verify` | - | + |
| CRPV-17288, CRPLTFRM-19981 |  Разрешено Partition Awareness для тонкого клиента при использовании node filter | + | - |

### Изменения в технологическом стеке

| Учетный код | Изменения | Влияют на разработку | Влияют на администраторов |
|---|---|---|---|
| - | Прекращена поддержка работы DataGrid с OpenJDK 1.8 | - | [Раздел «Системные требования» документа «Руководство по установке»](../../installation-guide/md/system-requirements.md) |
| - | Актуализированы версии ПО | - | [Раздел «Системные требования» документа «Руководство по установке»](../../installation-guide/md/system-requirements.md) |

### Изменения в классе/классах по классификатору программ в связи с изменением функциональности

В этой версии изменений в классах нет.

### Добавление технологического модуля

В этой версии технологические модули не добавлялись.

### Исключенные и устаревшие функции

В этой версии исключенные и устаревшие функции отсутствуют.

### Исправленные ошибки

| Учетный код | Изменения | Влияют на разработку | Влияют на администраторов |
|---|---|---|---|
| STS-19650 | Добавлено событие аудита на команду включения/отключения CDC | — | + |
| STS-19649  | Добавлено событие аудита на команду очистки кешей clear  | — | + |
| STS-19648 | Добавлено событие аудита на переход кластера в режим read only  | — | + |
| SBTSUPPORT-31994 | `ArrayIndexOutOfBoundsException` при чтении платформенного кеша после изменения топологии кластера | + | + |
| SBTSUPPORT-31914 | Плагин безопасности выдает `NullPointerException` при развертывании сервиса на клиентский узел | + | + |

### Известные проблемы

При тестировании проблемы не обнаружены.

### Изменения в документации

| Учетный код | Изменения | Влияют на разработку | Влияют на администраторов |
|---|---|---|---|
| CRPV-14544 | Обновлено описание атомарных привелегий продукта |  | [Раздел «Списки разрешений для ролей» документа «Руководство по системному администированию»](../../administration-guide/md/role-model.md) |